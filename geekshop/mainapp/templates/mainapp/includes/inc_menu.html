<li>
  <a href="{% url 'products:index' %}"
     class="{% if request.resolver_match.namespace == 'products' %}
              active
            {% endif %}">
    продукты
  </a>
</li>
<a class="{% if request.resolver_match.namespace == 'basket' %}active{% endif %}" href="{% url 'basket:view' %}">Корзина</a>
{% if user.is_authenticated %}
<li>
    <a href="{% url 'auth:edit' %}">
        {{ user.first_name|default:'Пользователь' }}
    </a>
</li>
{% endif %}
<li>
    {% if user.is_authenticated %}
      <a href="{% url 'auth:logout' %}">Выйти</a>
    {% else %}
      <a href="{% url 'auth:login' %}">Войти</a>
      <a href="{% url 'auth:register' %}">Регистрация</a>

    {% endif %}
</li>